名前：RoninDojo

説明：Bitcoin ノード RoninDojo のインストールと使用方法。

---

# Bitcoin ノード RoninDojo のインストールと使用方法

独自のノードを実行して使用することは、Bitcoin ネットワークに実際に参加するために不可欠です。Bitcoin ノードを実行することは、ユーザーに金銭的な利益をもたらすわけではありませんが、ユーザーのプライバシーを保護し、独立して行動し、ネットワークへの信頼を制御することができます。

この記事では、Bitcoin ノードを実行するための素晴らしいソリューションである RoninDojo について詳しく説明します。

### 目次：

- RoninDojo とは何ですか？
- どのハードウェアを選ぶべきですか？
- RoninDojo のインストール方法は？
- RoninDojo の使用方法は？
- 結論

Bitcoin ノードの動作と役割について理解がない場合は、まずこの記事を読むことをお勧めします：Bitcoin ノード-パート 1/2：技術的な概念。

![Samourai](assets/1.png)

## RoninDojo とは何ですか？

Dojo は、Samouraï Wallet のチームによって開発された完全な Bitcoin ノードサーバーです。任意のマシンに自由にインストールすることができます。

RoninDojo は、Dojo とさまざまな他のツールのインストールおよび管理を容易にするインストールアシスタントおよび管理ツールです。RoninDojo は、Dojo の元の実装を引き継ぎ、多くの他のツールを追加しながら、インストールと管理を容易にします。

彼らはまた、RoninDojo Tanto というプラグアンドプレイのハードウェアを提供しており、Samouraï Wallet のチームが組み立てたマシンに RoninDojo が事前にインストールされています。Tanto は有料のソリューションであり、手を汚したくない人にとって興味深いものです。

RoninDojo のコードはオープンソースであり、したがって独自のハードウェアにこのソリューションをインストールすることも可能です。このオプションは経済的ですが、少し手間がかかります。この記事では、この方法を説明します。

RoninDojo は Dojo であり、Whirlpool CLI を簡単に Bitcoin ノードに統合することができます。Whirlpool CLI を使用することで、Bitcoin を 24 時間 365 日リミックスすることができ、自分のパーソナルコンピュータをオンにする必要はありません。また、プライバシーを大幅に向上させることもできます。

RoninDojo には、他にもさまざまなツールが組み込まれており、例えばトランザクションのプライバシーの度合いを決定するための Boltzmann 計算機、Bitcoin ウォレットをノードに接続するための Electrum サーバー、およびトランザクションをプライベートに監視するための Mempool サーバーなどがあります。
この記事では、私が以前紹介した Umbrel というノードソリューションと比較して、RoninDojo は「On Chain」ソリューションとユーザーのプライバシーを最適化するツールに重点を置いた開発ラインに沿っています。そのため、RoninDojo では Lightning Network との連携はできません。
RoninDojo は Umbrel と比べてツールの数は少ないですが、Ronin にはビットコインユーザーにとって重要ないくつかの機能が非常に安定して備わっています。

したがって、Umbrel サーバーのすべての機能が必要ない場合、Whirlpool や Mempool などのいくつかの基本的なツールを備えたシンプルで安定したノードのみを使用したい場合は、RoninDojo がおそらく適切なソリューションです。

私の考えでは、Umbrel の開発ラインは非常に Lightning Network と多目的ツールに向けられています。これはビットコインノードですが、マルチタスクのミニサーバーにすることを目指しています。一方、RoninDojo の開発ラインは Samourai Wallet のチームに近く、ビットコインユーザーにとって重要なツールに焦点を当て、完全な独立性とビットコインのプライバシーの最適な管理を可能にしています。

RoninDojo ノードのセットアップは、Umbrel ノードよりもやや複雑ですのでご注意ください。

では、RoninDojo のセットアップ方法を見ていきましょう。

## どのハードウェアを選ぶべきですか？

RoninDojo をホストし実行するマシンを選ぶには、いくつかのオプションがあります。

前述のように、最も簡単な選択肢は、この用途に特化したプラグアンドプレイのマシンである Tanto を注文することです。注文するには、こちらのリンクから：https://shop.ronindojo.io/product-category/nodes/

RoninDojo チームがオープンソースのコードを提供しているため、RoninDojo を他のマシンに実装することも可能です。最新のインストールアシスタントのバージョンは、このページで入手できます：https://ronindojo.io/en/downloads.html、最新のコードのバージョンは、このページで入手できます：https://code.samourai.io/ronindojo/RoninDojo

個人的には、Raspberry Pi 4 8GB にインストールし、すべてが完璧に動作しています。

ただし、RoninDojo チームによれば、ケースと SSD アダプターの問題が頻繁に発生することがあります。したがって、マシンの SSD にケーブルを使用するケースは避けることをお勧めします。代わりに、Raspberry Pi 4 用に特別に設計されたストレージ拡張カードを使用することをお勧めします。

以下は、独自の RoninDojo ノードを作成するためのセットアップの例です：

- Raspberry Pi 4
- ファン付きケース
- 互換性のあるストレージ拡張カード。
- 電源ケーブル。
- 16GB 以上の産業用マイクロ SD カード。
- 1TB 以上の SSD。
- イーサネットケーブル RJ45、カテゴリ 8 が推奨されています。

## RoninDojo のインストール方法

### ステップ 1：ブート可能なマイクロ SD を準備する

マシンを組み立てたら、RoninDojo のインストールを開始することができます。まず、適切なディスクイメージをマイクロ SD に書き込んでブート可能な状態にします。

マイクロ SD カードをパーソナルコンピュータに挿入し、RoninDojo の公式ウェブサイトにアクセスして RoninOS のディスクイメージを取得します：https://ronindojo.io/en/downloads.html。

ハードウェアに対応したディスクイメージをダウンロードします。私の場合、"MANJARO-ARM-RONINOS-RPI4-22.03.IMG.XZ"というイメージをダウンロードしました。

![RoninOSディスクイメージのダウンロード](assets/2.png)

イメージをダウンロードしたら、対応する.SHA256 ファイルを使用してその整合性を確認します。Windows での確認方法については、この記事で詳しく説明しています：Windows で Bitcoin ソフトウェアの整合性を確認する方法。

RoninOS の整合性の確認に関する具体的な手順は、次の英語のページでも利用できます：https://wiki.ronindojo.io/en/extras/verify。

このイメージをマイクロ SD に書き込むには、Balena Etcher などのソフトウェアを使用できます。こちらからダウンロードできます：https://www.balena.io/etcher/。

Etcher でイメージを選択し、マイクロ SD に書き込んでください。

![Etcherを使用してディスクイメージを書き込む](assets/3.png)

操作が完了したら、ブート可能なマイクロ SD を Raspberry Pi に挿入し、マシンを起動します。

### ステップ 2：RoninOS の設定

RoninOS は RoninDojo ノードのオペレーティングシステムであり、Manjaro の改変版です。マシンを起動し、数分待った後、設定を開始することができます。

リモートで接続するために、RoninDojo マシンの IP アドレスを見つける必要があります。たとえば、インターネットボックスの管理画面に接続するか、https://angryip.org/のようなソフトウェアを使用してローカルネットワークをスキャンし、マシンのIPを見つけることができます。

IP を見つけたら、同じローカルネットワークに接続された別のコンピュータから SSH を使用してマシンにアクセスできます。

MacOS や Linux のコンピュータからは、ターミナルを開いてください。Windows の場合、Putty などの専用ツールを使用するか、直接 Windows PowerShell を使用できます。

ターミナルを開いたら、次のコマンドを入力します：

> ssh root@192.168.?.?

疑問符の部分を先ほど見つけた RoninDojo の IP に置き換えてください。

> ヒント：シェルで右クリックして要素を貼り付けることができます。

次に、Manjaro の設定パネルに移動します。ドロップダウンリスト内のターゲットを変更するために矢印キーを使用して、キーボードの適切なレイアウトを選択してください。

![Manjaroキーボード設定](assets/4.png)

セッションのためのユーザー名とパスワードを選択してください。強力なパスワードを使用し、安全なバックアップを作成してください。インストール中は一時的に簡単なパスワードを使用することもできますが、後で RoninUI で簡単に変更できるため、Manjaro のセットアップ中に手動で入力する時間を節約するために、パスワードを「コピー＆ペースト」することができます。

![Manjaroユーザー名の設定](assets/5.png)

次に、root パスワードを入力するように求められます。root パスワードには直接強力なパスワードを入力してください。RoninUI からは root パスワードを変更することはできませんので、root パスワードをしっかりとバックアップしてください。

次に、地域とタイムゾーンを入力してください。

![Manjaroタイムゾーンの設定](assets/6.png)

![Manjaro地域の設定](assets/7.png)

次に、ホスト名を選択してください。

![Manjaroホスト名の設定](assets/8.png)

最後に、Manjaro の設定情報を確認し、承認してください。

![ManjaroOSの設定情報の確認](assets/9.png)

### ステップ 3：RoninDojo をダウンロードする。

RoninOS の初期設定が行われます。上記のスクリーンショットのように完了したら、マシンは再起動します。しばらくお待ちいただき、次のコマンドを入力して RoninDojo マシンに再度接続してください：

> ssh pseudo@192.168.?.?

上記のコマンドで、"pseudo"の部分を前に選択したユーザー名に、"?"の部分を RoninDojo の IP アドレスに置き換えてください。

次に、ユーザーパスワードを入力してください。

ターミナルでは、次のようになります：

![RoninOSへのSSH接続](assets/10.png)

これで、現時点では RoninOS のみを備えたマシンに接続されました。次に、RoninDojo をインストールする必要があります。

次のコマンドを入力して、RoninDojo の最新バージョンをダウンロードしてください：

> git clone https://code.samourai.io/ronindojo/RoninDojo

ダウンロードはすばやく完了します。ターミナルには次のように表示されます：

![RoninDojoのクローン](assets/11.png)

ダウンロードの完了を待ってから、次のコマンドを使用して RoninDojo のユーザーインターフェースをインストールしてアクセスしてください：

> ~/RoninDojo/ronin

次に、ユーザーパスワードを入力するように求められます：

![Bitcoinノードのパスワードの確認](assets/12.png)

> このコマンドは、RoninDojo に初めてアクセスする場合にのみ必要です。その後、SSH 経由で RoninCLI にアクセスするには、単に「[SSH pseudo@192.168.?.?]」というコマンドを入力する必要があります。ここで「pseudo」をユーザー名に置き換え、ノードの IP アドレスを入力します。ユーザーパスワードが求められます。

次に、次の素晴らしいアニメーションが表示されます：

![RoninCLIの起動アニメーション](assets/13.png)

そして、ついに RoninDojo の CLI ユーザーインターフェースに到着します。

### ステップ 4：RoninDojo をインストールする。

メインメニューから、キーボードの矢印を使用して「System」メニューにアクセスします。選択を確定するために Enter キーを使用します。

![RoninCLIからSystemメニューへのナビゲーション](assets/14.png)

次に、「System Setup & Install」メニューに移動します。

![RoninCLIからRoninDojoシステムのインストールメニューへのナビゲーション](assets/15.png)

最後に、スペースバーを使用して「System Setup」と「Install RoninDojo」をチェックし、インストールを開始するために「Accept」を選択します。

![RoninDojoのインストールの確認](assets/16.png)

インストールが進行するのを静かに待ちます。私の場合、約 2 時間かかりました。操作中はターミナルを開いたままにしておいてください。

インストールの途中で、以下のように特定のステージでキーを押すように求められることがあります。

![RoninDojoのインストール中](assets/17.png)

インストールが完了すると、さまざまなコンテナが起動します。

![ノードのコンテナの起動](assets/18.png)

その後、ノードが再起動します。次のステップのために再び RoninCLI に接続してください。

![Bitcoinノードの再起動](assets/19.png)

### ステップ 5：Proof of Work チェーンをダウンロードし、RoninUI にアクセスする。

インストールが完了すると、ノードは Bitcoin の Proof of Work チェーンをダウンロードし始めます。これは IBD（Initial Block Download）と呼ばれます。これには通常、インターネット接続とデバイスの性能に応じて 2 日から 14 日かかります。

Proof チェーンのダウンロードの進捗状況は、RoninUI の Web インターフェースに接続して確認できます。

ローカルネットワークからアクセスするには、次のいずれかの方法を使用してブラウザに入力します。

- マシンの IP アドレス（192.168.?.?）を直接入力します。

- ronindojo.local

VPN を使用している場合は、VPN を無効にすることを忘れないでください。

### 可能なトラブルシューティング

ブラウザから RoninUI に接続できない場合は、SSH を介してノードに接続されたターミナルからアプリケーションの正常な動作を確認してください。前述の手順と同様に、次のように入力します。

- SSH pseudo@192.168.?.?（自分の認証情報に置き換えてください）

- ユーザーパスワードを入力してください。
  メインメニューに移動してください：
  > RoninUI > 再起動

アプリケーションが正常に再起動した場合、問題はブラウザからの接続にあります。VPN を使用していないことを確認し、ノードと同じネットワークに接続されていることを確認してください。

再起動でエラーが発生した場合、OS を更新してから RoninUI を再インストールしてください。OS を更新するには、次の手順を実行してください：

> システム > ソフトウェアの更新 > OS の更新

更新と再起動が完了したら、SSH を使用してノードに再接続し、RoninUI を再インストールしてください：

> RoninUI > 再インストール

RoninUI を再ダウンロードした後、ブラウザを使用して RoninUI にログインしてみてください。

> ヒント：RoninCLI を誤って終了し、Manjaro のターミナルに戻ってしまった場合は、単に「ronin」と入力して RoninCLI のメインメニューに直接戻ることができます。

### ウェブログイン

Tor を使用して、どのネットワークからでも RoninUI のウェブインターフェースにログインすることもできます。これを行うには、RoninCLI から RoninUI の Tor アドレスを取得してください：

> 資格情報 > Ronin UI

.onion で終わる Tor アドレスを取得し、Tor ブラウザでこのアドレスを入力して Ronin UI にログインしてください。異なる資格情報を漏洩させないように注意してください。これらは機密情報です。

![RoninUIへのウェブログインインターフェース](assets/20.png)

ログインすると、ユーザーパスワードが要求されます。これは SSH でログインするために使用するパスワードと同じです。

![RoninUIウェブインターフェースの管理パネル](assets/21.png)

IBD の進捗状況を確認できます。お待ちください。2009 年 1 月 3 日以降の Bitcoin で行われたすべてのトランザクションを完全に取得しています。

ブロックチェーン全体をダウンロードした後、インデクサーはデータベースを圧縮します。この操作には約 12 時間かかります。RoninUI の「インデクサー」で進捗状況を確認することもできます。

これで RoninDojo ノードは完全に機能します：

![インデクサーが100％同期されたノードが機能しています](assets/22.png)

より強力なパスワードにユーザーパスワードを変更したい場合は、現在のタブの「設定」から変更できます。RoninDojo では追加のセキュリティレイヤーはありませんので、本当に強力なパスワードを設定し、そのバックアップに注意してください。

## RoninDojo の使用方法

ブロックチェーンがダウンロードされ、圧縮されたら、新しい RoninDojo ノードが提供するサービスを利用できるようになります。どのように使用するかを見ていきましょう。

### ポートフォリオソフトウェアを electrs に接続する

新しくインストールされ、同期されたノードの最初の利点は、ビットコインネットワークにトランザクションをブロードキャストすることです。したがって、さまざまなウォレット管理ソフトウェアを接続したいと思うでしょう。

これは Electrum Rust Server（electrs）を使用して行うことができます。このアプリケーションは通常、RoninDojo ノードにプリインストールされています。もしプリインストールされていない場合は、RoninCLI のインターフェースから手動でインストールすることができます。

次の手順で行います：

> アプリケーション > アプリケーションの管理 > Electrum Server のインストール

Electrum Server の Tor アドレスを取得するには、RoninCLI のメニューから次の手順で進みます：

> 資格情報 > Electrs

その後、ウォレットソフトウェアで.onion リンクを入力するだけです。たとえば、Sparrow Wallet では、次のタブに移動します：

> ファイル > 設定 > サーバー

サーバータイプで「Private Electrum」を選択し、対応する欄に Electrum Server の Tor アドレスを入力します。最後に、「接続のテスト」をクリックして接続をテストし、保存します。

![Sparrow WalletのElectrsへの接続インターフェース](assets/23.png)

### ソフトウェアウォレットを Samourai Dojo に接続する

Electrs の代わりに、Samourai Dojo を使用して、互換性のあるソフトウェアウォレットを RoninDojo ノードに接続することもできます。たとえば、Samourai Wallet はこのオプションを提供しています。

これを行うには、Dojo の接続 QR コードをスキャンするだけです。RoninUI からアクセスするには、「ダッシュボード」タブをクリックし、Dojo のボックス内の「管理」ボタンをクリックします。その後、Dojo と BTC-RPC Explorer への接続用の QR コードを表示することができます。表示するには、「値の表示」をクリックします。

![Dojoへの接続QRコードの取得](assets/24.png)

Samourai Wallet を Dojo に接続するには、アプリケーションのインストール時にこの QR コードをスキャンする必要があります：

![Samourai WalletからDojoへの接続](assets/25.png)

### 独自の Mempool Explorer の使用

ビットコインユーザーにとって重要なツールであるエクスプローラーは、ビットコインチェーンに関するさまざまな情報を確認することができます。Mempool を使用すると、他のユーザーが適用する手数料をリアルタイムで確認して、自分の手数料を最適化することができます。また、トランザクションの確認状況を確認したり、アドレスの残高を確認したりすることもできます。

これらのエクスプローラーツールを使用すると、プライバシーの損失リスクがあり、サードパーティのデータベースに信頼を置かなければなりません。独自のノードを経由せずにオンラインツールを使用する場合は、次のリスクがあります：

- ウォレットに関する情報が漏洩する可能性があります。

- ウェブサイトの管理者に、ホストされているプルーフオブワークチェーンを信頼する必要があります。
  これらのリスクを回避するために、Tor ネットワークを介して自分自身の Mempool インスタンスを使用することができます。このソリューションを使用すると、サービスを利用する際にプライバシーが保護されるだけでなく、プロバイダに信頼を置く必要もなくなります。なぜなら、自分自身のデータベースをクエリするからです。

そのためには、まず RoninCLI から Mempool Space Visualizer をインストールします。

> アプリケーション > アプリケーションの管理 > Mempool Space Visualizer のインストール

インストールが完了したら、Mempool へのリンクを取得します。Tor アドレスを使用すると、どのネットワークからでもアクセスできます。同様に、RoninCLI を使用してこのリンクを取得します。

> 資格情報 > Mempool

![Torアドレスの取得](assets/26.png)

Tor ブラウザで Mempool Tor アドレスを入力するだけで、自分自身の Mempool インスタンスにアクセスできます。お気に入りにこの Tor アドレスを追加して、より迅速にアクセスできるようにすることをお勧めします。また、デスクトップにショートカットを作成することもできます。

![Mempool Spaceインターフェース](assets/27.png)

Tor ブラウザをまだお持ちでない場合は、こちらからダウンロードできます：https://www.torproject.org/download/

また、Tor ブラウザをスマートフォンにインストールし、同じアドレスを入力することでアクセスすることもできます。どこからでも、自分自身のノードを使用して Bitcoin チェーンの状態を確認することができます。

### Whirlpool CLI の使用

RoninDojo ノードには、WhirlpoolCLI も含まれており、Whirlpool のミックスを自動化するためのリモートコマンドラインインターフェースです。

Whirlpool の実装で CoinJoin を行う場合、使用しているアプリケーションはミックスやリミックスを実行するために常に開いている必要があります。これは、高い匿名性を持つ anon セットを持ちたいユーザーにとって手間のかかるプロセスです。なぜなら、Whirlpool を統合したアプリケーションをホストするデバイスは常にオンにする必要があるからです。具体的には、UTXO を 24 時間 365 日リミックスに参加させたい場合、自分のパソコンやスマートフォンを常にオンにしてアプリケーションを開いておかなければなりません。

この制約に対する解決策として、Bitcoin ノードなど常にオンになっているマシンで WhirlpoolCLI を使用することがあります。これにより、UTXO は自動的に 24 時間 365 日リミックスされ、Bitcoin ノード以外のマシンを常に稼働させる必要はありません。
WhirlpoolCLI は、Coinjoin を簡単に管理するために個人用コンピュータにインストールする必要がある WhirlpoolGUI と一緒に使用されます。この記事では、Whirlpool CLI を独自の dojo と組み合わせて使用する方法について詳しく説明します：https://www.pandul.fr/post/comprendre-et-utiliser-le-coinjoin-sur-bitcoin#:~:text=dans%20cette%20partie.-,Tutoriel%20%3A%20Whirpool%20CLI%20sur%20Dojo%20et%20Whirlpool%20GUI.,-Si%20vous%20souhaitez
Coinjoin について一般的に詳しく知りたい場合は、この記事で説明しています：https://www.pandul.fr/post/comprendre-et-utiliser-le-coinjoin-sur-bitcoin

### Whirlpool Stat Tool の使用方法

Whirlpool で CoinJoin を行った後、ミックスされた UTXO のプライバシーレベルを具体的に知りたい場合があります。Whirlpool Stat Tool を使用すると、簡単にそれを行うことができます。このツールを使用すると、ミックスされた UTXO の将来のスコアと過去のスコアを計算することができます。これらの Anon Sets の計算方法と動作について詳しく知りたい場合は、この部分を読むことをお勧めします：https://www.pandul.fr/post/comprendre-et-utiliser-le-coinjoin-sur-bitcoin#:~:text=perdre%20en%20confidentialit%C3%A9.-,Anon%20Sets.,-Comme%20expliqu%C3%A9%20pr%C3%A9c%C3%A9demment

このツールは RoninDojo に事前インストールされています。現時点では、RoninCLI からのみ利用可能です。メインメニューから起動するには、次の手順を実行します：

> Samourai Toolkit > Whirlpool Stat Tool

使用方法の指示が表示されます。完了したら、任意のキーを押してコマンドラインにアクセスします：

![Whirlpool Stats Toolソフトウェアのホーム画面](assets/28.png)

ターミナルが表示されます：

> wst#/tmp>

このインターフェースを終了して RoninCLI のメニューに戻るには、次のコマンドを入力します：

> quit

まず、データを機密性を保護して OXT から抽出するために Tor 上のプロキシを設定します。次のコマンドを入力します：

> socks5 127.0.0.1:9050

次に、トランザクションを含むプールのデータをダウンロードします：

> download 0001
>
> 興味のあるプールの識別コードで 0001 を置き換えてください。

WST の識別コードは次のとおりです：

- 0.5 ビットコインのプール：05

- 0.05 ビットコインのプール：005

- 0.01 ビットコインのプール：001

- 0.001 ビットコインのプール：0001

![OXTからプール0001のデータをダウンロードする](assets/29.png)

データをダウンロードしたら、次のコマンドでデータをロードします：

> load 0001
>
> 興味のあるプールの識別コードで 0001 を置き換えてください。
> ![プール0001のデータの読み込み](assets/30.png)
> データの読み込みを待ってください。数分かかる場合があります。データの読み込みが完了したら、次のコマンドを入力して、Anon Sets を取得してください。

> score TXID
>
> TXID には、トランザクションの識別子を入力してください。

![指定されたTXIDの予測スコアと過去スコアの印刷](assets/31.png)

WST は、まず過去のスコア（Backward-looking metrics）を表示し、次に予測スコア（Forward-looking metrics）を表示します。Anon Sets のスコアに加えて、WST は Anon Set における output の拡散率も表示します。

UTXO の予測スコアは、初期のミックスの TXID から計算されますが、最後のミックスからではありません。一方、UTXO の過去スコアは、最後のサイクルの TXID から計算されます。

もし Anon Sets の概念が理解できない場合は、この記事の Coinjoin の部分を読んで、図を使って詳しく説明しています：https://www.pandul.fr/post/comprendre-et-utiliser-le-coinjoin-sur-bitcoin#:~:text=perdre%20en%20confidentialit%C3%A9.-,Anon%20Sets.,-Comme%20expliqu%C3%A9%20pr%C3%A9c%C3%A9demment

### Boltzmann Calculator の使用方法

Boltzmann Calculator は、Bitcoin トランザクションのさまざまな高度なメトリクス、特にエントロピーのレベルを簡単に計算するためのツールです。これらのデータを使用して、トランザクションの機密性のレベルを数値化し、エラーを検出することができます。このツールは、RoninDojo ノードにプリインストールされています。

RoninCLI からアクセスするには、SSH で接続し、次のメニューに移動します：

> Samourai Toolkit > Boltzmann Calculator

RoninDojo での使用方法を説明する前に、これらのメトリクスが何を表し、どのように計算され、どのように使用されるかを説明します。

これらの指標は、Bitcoin のどのトランザクションにも使用できますが、特に Coinjoin トランザクションの品質を調べるのに興味があります。

1. このソフトウェアによって計算される最初の指標は、可能な組み合わせの数です。計算機上に表示されるものです："nb combinations"と表示されます。UTXO の値に基づいて、この指標は入力から出力への可能なマッピングの数を表します。

> もし"UTXO"という用語に馴染みがない場合は、この短い記事を読んでください：Mécanisme d'une transaction Bitcoin : UTXO, inputs et outputs.
> 言い換え:
> 言い換えることなく、元のテキストをそのまま翻訳します。

翻訳:
言い換えることなく、元のテキストをそのまま翻訳します。

他の言葉で言えば、この指標は、与えられたトランザクションに対して可能な解釈の数を表します。例えば、Whirlpool 5x5 の構造を持つ Coinjoin の場合、可能な組み合わせの数は 1496 です：
![Schéma d'une transaction Coinjoin sur kycp.org](assets/32.png)

クレジット：https://kycp.org/#/fe5e5abab7ea452f87603f7ebc2fa4e77380eafcc927e1cb51e1a72401ab073d

2. 計算される 2 番目の指標は、トランザクションのエントロピー（"Entropy"）です。トランザクションの可能な組み合わせの数が非常に多い場合、エントロピーを使用することを選択することができます。エントロピーは、可能な組み合わせの数の 2 進対数を表します。以下はその式です：

- E：トランザクションのエントロピー。

- C：トランザクションの可能な組み合わせの数。

> E = log2(C)

数学では、2 を底とする対数（二進対数）は、2 のべき乗の逆関数です。つまり、x の二進対数は、値 x を得るために 2 を何乗する必要があるかを表します。

したがって：

> E = log2(C)
> C = 2^E

この指標はビットで表されます。例えば、Whirlpool 5x5 の構造を持つ Coinjoin のトランザクションのエントロピーを計算すると、可能な組み合わせの数が 1496 であることがわかります：

> C = 1496
>
> E = log2(1496)
>
> E = 10.5469 bits

したがって、この Coinjoin トランザクションのエントロピーは 10.5469 ビットであり、非常に良いです。

この指標が高いほど、トランザクションの異なる解釈が多くなり、トランザクションの機密性が高くなります。

別の例を見てみましょう。以下は、1 つの入力と 2 つの出力を持つ「通常の」トランザクションの例です：

![Transaction schéma bitcoin sur oxt.me](assets/34.png)

クレジット：https://oxt.me/graph/transaction/tiid/9815286

このトランザクションには、可能な解釈が 1 つしかありません：

> [(inp 0) > (Outp 0 ; Outp 1)]

したがって、そのエントロピーは 0 になります：

> C = 1
>
> E = log2(C)
>
> E = 0

3. ボルツマン計算機によって返される 3 番目の指標は、「ウォレットの効率性」と呼ばれる Tx の効率です。この指標は、入力トランザクションを同じ構成で可能な最良のトランザクションと比較するだけのものです。
   したがって、与えられたトランザクションの構造に対して達成可能な最大エントロピーを表す最大エントロピーの概念を導入します。例えば、Whirlpool 5x5 タイプの Coinjoin の構造は、最大エントロピーが 10.5469 である最大エントロピーを持ちます。したがって、効率指標は、この最大エントロピーと入力トランザクションの実際のエントロピーを比較します。その式は次の通りです：

- ER：ビットで表される実際のエントロピー。

- EM：同じ構造で表される最大エントロピー。

- Ef：ビットで表される効率。

> Ef = ER - EM
>
> Ef = 10.5469 - 10.5469
>
> Ef = 0 ビット

この指標はまた、パーセンテージでも表され、その式は次の通りです：

- CR：実際の可能な組み合わせの数。

- CM：同じ構造で可能な最大の組み合わせの数。

- Ef：パーセンテージで表される効率。

> Ef = CR/CM
>
> Ef = 1496/1496
>
> Ef = 100%

したがって、100%の効率は、このトランザクションがその構造に対して可能な限りのプライバシーを持っていることを意味します。

4. 計算される 4 番目の指標はエントロピー密度（"Entropy Density"）です。これにより、エントロピーを各入力または出力に関連付けることができます。したがって、この指標を使用して、異なるサイズの複数のトランザクション間の効率を比較することができます。

その計算は非常に簡単で、トランザクションのエントロピーをその中に存在する入力と出力の数で割ります。例えば、Whirlpool 5x5 タイプの Coinjoin の場合は次のようになります：

    ED：ビットで表されるエントロピー密度。

    E：ビットで表されるトランザクションのエントロピー。

    T：トランザクション内の総入力および出力の数。

T = 5 + 5 = 10
ED = E / T
ED = 10.5469 / 10
ED = 1.054 ビット

計算機ボルツマンによって提供される 5 番目の情報は、入力と出力の間のリンクの確率表です。この表は、特定の入力が特定の出力に対応する確率（ボルツマンスコア）を単純に示します。

Whirlpool を使用した前の例を再度考えると、確率の表は次のようになります：

| 入力 | 出力 0 | 出力 1 | 出力 2 | 出力 3 | 出力 4 |
| ---- | ------ | ------ | ------ | ------ | ------ | --- | --- | --- | --- | --- | --- | --- |
| 0    | 34%    | 34%    | 34%    | 34%    | 34%    |
| 1    | 34%    | 34%    | 34%    | 34%    | 34%    |
| 2    | 34%    | 34%    | 34%    | 34%    | 34%    |
| 3    | 34%    | 34%    | 34%    | 34%    | 34%    |     | 4   | 34% | 34% | 34% | 34% | 34% |

ここでは、各入力が各出力に関連付けられる可能性が同じであることがわかります。

一方、1 つの入力と 2 つの出力を持つトランザクションの例を見てみると、次のようになります：

| 入力 | 出力 0 | 出力 1 |
| ---- | ------ | ------ |
| 0    | 100%   | 100%   |

この例では、出力ごとの入力 0 からの確率が 100%であることがわかります。

この確率が低いほど、プライバシーが高くなります。

6. 計算される 6 番目の情報は、決定的なリンクの数です。また、決定的なリンクの比率も提供されます。この指標は、与えられたトランザクションの入力と出力間のリンクのうち、確実性が 100%であると言えるリンクの数を示します。

比率は、トランザクション内の決定的なリンクの数を総リンク数で割ったものです。

例えば、Coinjoin Whirlpool トランザクションには、入力と出力の間に決定的なリンクはありません。したがって、指標はゼロであり、比率も 0%です。

一方、2 番目のトランザクション（1 つの入力と 2 つの出力）では、指標は 2 であり、比率は 100%です。

したがって、この指標がゼロである場合、プライバシーが高いことを示します。

これらの指標を学んだので、このソフトウェアを使用して計算する方法を見てみましょう。RoninCLI から次のメニューに移動します：

> Samourai Toolkit > Boltzmann Calculator

![Boltzmann Calculatorソフトウェアのホーム画面](assets/35.png)

ソフトウェアが起動したら、調べたいトランザクションの識別子を入力します。複数のトランザクションを入力する場合は、コンマで区切って入力し、Enter キーを押します：

![Boltzmann Calculatorで調べるTXIDを入力する](assets/36.png)

計算機は、先ほど見たすべての指標を返します：

![このTXIDのBoltzmann Calculatorデータの表示](assets/37.png)

ログアウトするには、"Quit"と入力して Enter キーを押します。そして、RoninCLI のメニューに戻ります。

Boltzmann 計算機についてもっと詳しく知りたい場合は、次の記事を読んでみてください：

- https://medium.com/@laurentmt/introducing-boltzmann-85930984a159

- https://gist.github.com/LaurentMT/e758767ca4038ac40aaf

### Bisq に接続する

Bisq はピアツーピアでのビットコインの購入や販売を行うことができる取引プラットフォームです。Tor 上で実行されるデスクトップソフトウェアと組み合わせて使用し、身元情報を提供する必要なくビットコインを交換することができます。
Bisq は、2/2 のマルチシグネチャシステムによってピアツーピアの取引を安全に行います。RoninDojo ノードとこのソフトウェアを使用することで、取引のプライバシーを最適化し、自分自身のノードのブロックチェーンデータを信頼することができます。
Bisq ソフトウェアをダウンロードするには、公式サイトにアクセスしてください：https://bisq.network/

ソフトウェアの使い方については、このページを参照してください：https://bisq.network/getting-started/

RoninDojo から接続リンクを取得するには、SSH 経由で RoninCLI に接続する必要があります。次に、次のメニューに移動します：

> アプリケーション > アプリケーションの管理

パスワードを入力し、スペースキーで次の項目をチェックします：

> [ ] Bisq 接続を有効にする

選択を確認してください。ノードのインストールが完了するのを待ち、次に Tor V3 アドレスを次の場所から取得します：

> 資格情報 > Bitcoind

"Bitcoin Daemon"の下にあるアドレスをコピーします。

また、RoninUI のインターフェースからも Bitcoind Tor V3 アドレスを取得できます。"ダッシュボード"から"Bitcoin Core"の"Manage"をクリックするだけです。

![RoninUIでBitcoin DaemonのTorV3アドレスを取得する](assets/38.png)

Bisq からノードに接続するには、次のメニューに移動します：

> 設定 > ネットワーク情報

![Bisqソフトウェアからノードへの接続インターフェースにアクセスする](assets/39.png)

"Bitcoin Core カスタムノードを使用する"というバブルをクリックします。次に、Bitcoin TorV3 アドレスを入力します。".onion"を含めずに入力してください。

![BisqソフトウェアにノードのTorV3アドレスを入力するためのフィールド](assets/40.png)

Bisq ソフトウェアを再起動します。ノードは Bisq に接続されます。

### その他の機能

RoninDojo ノードには、他の基本的な機能も搭載されています。特定の情報をスキャンして考慮に入れることができます。

たとえば、RoninDojo に接続されたウォレットが所持しているビットコインを見つけられない場合があります。残高が 0 でありながら、そのウォレットにビットコインがあると確信している場合です。考慮すべき多くの可能な原因がありますが、派生パスのエラーや、ノードがアドレスを監視していない可能性もあります。

これを解決するために、ノードが xpub を追跡していることを確認するために「xpub ツール」を使用できます。RoninUI からアクセスするには、次のメニューに移動します：

> メンテナンス > XPUB ツール

問題のある xpub を入力し、「チェック」をクリックして情報を確認します。

![RoninUIのXPUBツール](assets/41.png)

ノードが xpub を追跡している場合、次のように表示されます：

![XPUBツールの解析結果](assets/42.png)
すべてのトランザクションが正しく表示されていることを確認してください。また、派生のタイプがウォレットと一致していることも確認してください。ここでは、この xpub が BIP44 の派生として解釈されていることがわかります。ウォレットの派生タイプが一致しない場合は、「Retype」ボタンをクリックし、選択したい BIP44/BIP49/BIP84 を選択してください：
![RoninUIから研究対象のxpubの派生タイプを変更する](assets/43.png)

もしもあなたの xpub がノードに追跡されていない場合、次の画面が表示され、インポートするように求められます：

![RoninUIのXPUBツールを使用してxpubをインポートする](assets/44.png)

また、他のメンテナンスツールも使用できます：

- トランザクションツール：特定のトランザクションの詳細を確認できます。

- アドレスツール：特定のアドレスが Dojo によって正しく追跡されているかを確認できます。

- ブロックの再スキャン：ノードに選択したブロック範囲を再スキャンさせます。

RoninUI には「Push Tx」というツールもあります。これを使用すると、署名済みのトランザクションを Bitcoin ネットワークにブロードキャストすることができます。トランザクションは 16 進数形式で入力する必要があります：

![RoninUIから署名済みトランザクションをブロードキャストするツール](assets/45.png)

## 結論.

私たちは RoninDojo という素晴らしいツールのインストールと使用方法を見ることができました。これは自分自身の Bitcoin ノードを運用するための優れた選択肢です。これは安定したソリューションであり、Bitcoiner にとって必要なすべての重要なツールを統合し、最新の状態に保ちます。

もしターミナルの使用に抵抗がなく、または Lightning Network に関連するツールが必要ない場合は、RoninDojo はあなたにとって適しているかもしれません。

可能であれば、これらのオープンソースソフトウェアを無料で提供している開発者に寄付することを考えてください：https://donate.ronindojo.io/

RoninDojo についてさらに詳しく知りたい場合は、以下の外部リソースのリンクをご覧ください。

### さらに詳しく学ぶために：

- Bitcoin での CoinJoin の理解と使用方法。

- ハッシュ関数について - Bitcoin Démocratisé 1 からの抜粋。

- Bitcoin のパスフレーズについてすべて知る。

### 外部リソース：

    https://samouraiwallet.com/dojo

    https://ronindojo.io/index.html

    https://wiki.ronindojo.io/en/home

    https://code.samourai.io/ronindojo/RoninDojo

    https://gist.github.com/LaurentMT/e758767ca4038ac40aaf

    https://medium.com/@laurentmt/introducing-boltzmann-85930984a159

    https://oxt.me/

    https://kycp.org/#/

    https://fr.wikipedia.org/wiki/Formule_de_Boltzmann

    https://wiki.ronindojo.io/en/setup/bisq

    https://bisq.network/


https://www.pandul.fr/post/installer-et-utiliser-son-n%C5%93ud-bitcoin-ronindojo
